# 🚆 自分だけのオリジナル電車を作ろう！ 🎮

こんにちは！ このプロジェクトは、身近にある「おもちゃの電車」を、ESP32という小さなコンピューター（マイコンボード）を使って、自分だけのオリジナル電車に大改造するためのプログラムです。

このプログラムを電車に書き込むと、コントローラー（送信機）から送られてくる信号を受け取って、電車を自由自在にコントロールできるようになります！

## 🌟 このプロジェクトでできること

*   **前進・後進・ストップ！**： 電車を好きな方向に動かしたり、止めたりできます。
*   **ライトのオン・オフ！**： ヘッドライトをピカッと光らせたり、消したりできます。
*   **音を鳴らそう！**： 「ガタンゴトン」という走行音や、「ピーッ」という警笛など、好きな音を鳴らせます。
*   **無線でコントロール！**： ESP-NOWという技術を使って、ワイヤレスで電車を操縦します。

## 📁 ファイルの中身を見てみよう

このプロジェクトには、いくつかのプログラムファイルが入っています。それぞれがどんな役割を持っているか見てみましょう。

*   `platformio.ini`: プロジェクト全体の設定が書かれているファイルです。
*   `src/`: ソースコード（プログラムの命令が書かれたもの）が入っているフォルダです。
    *   `main.cpp`: **一番大事なファイル！** ここに、電車を動かすためのメインの命令が書かれています。
    *   `Train.h` & `Train.cpp`: 電車の動き（モーター、ライト、音）を専門に担当するプログラムです。
    *   `ESPNowManager.h` & `ESPNowManager.cpp`: 無線通信（ESP-NOW）を担当するプログラムです。
    *   `Secret.h`: コントローラーの「住所」のようなもの（MACアドレス）を書いておくためのファイルです。

## ⚙️ プロジェクトを始めるための準備

この改造を楽しむために、いくつか準備するものがあります。

*   **ESP32**： 電車の頭脳になる小さなコンピューター。
*   **モータードライバ**： モーターを力強く回すための部品。
*   **LEDライト**： 電車のヘッドライトになります。
*   **ブザー**： 音を出すためのスピーカー。
*   **おもちゃの電車**： 主役の電車です！
*   その他、配線や工具など。

## 🔧 セットアップの手順

1.  **Visual Studio Code と PlatformIO の準備**:
    *   パソコンに `Visual Studio Code` というエディタ（文章を書くソフト）と、その中で使える `PlatformIO` という便利な道具をインストールします。
2.  **プロジェクトを開く**:
    *   このプロジェクトのファイルをパソコンにダウンロードして、`PlatformIO`で開きます。
3.  **MACアドレスを設定する**:
    *   `src/Secret.h` に、コントローラー（送信機）のMACアドレス（個別の番号）を書き込みます。これで、どのコントローラーと通信するかを電車が覚えます。
4.  **プログラムを書き込む**:
    *   `PlatformIO` を使って、書いたプログラムをESP32に書き込みます。

## 🎮 ペアリング（コントローラーとの接続）

*   電車の電源を入れると、自動的にコントローラーを探し始めます。
*   `Secret.h` に書かれたMACアドレスを持つコントローラーを見つけると、自動で接続（ペアリング）して、操縦できるようになります！

## 💡 トラブルシューティング（困ったときは）

*   **うまく通信できない…**
    *   コントローラーと電車のMACアドレスが合っているか確認してみよう。
    *   電池がちゃんと入っているか、電源はオンになっているか確認しよう。
*   **モーターが動かない…**
    *   配線が正しいか、もう一度図面と見比べてみよう。
    *   プログラムの中のピン番号の設定が合っているか確認しよう。

---

このプロジェクトを通して、プログラミングと電子工作の楽しさを体験してみてください！
自分だけの最強のオリジナル電車を作り上げよう！
